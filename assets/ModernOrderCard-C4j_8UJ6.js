import{j as e}from"./radix-vendor-DkpkUZpN.js";import{C as v,a as S,b as w,o as i,G as o,d as D,B as l}from"./index-CzEZTFZx.js";import{P as c,l as x,a as C,b as E,T as F,j as u,z as g,i as m}from"./ui-vendor-DBu71OB-.js";import"./react-vendor-Cbs3PWxE.js";import"./socket-vendor-CA1CrNgP.js";import"./chart-vendor-BrmKkZNj.js";const M=({order:s,onView:p,onEdit:h,onDelete:b})=>{const j=t=>({Draft:m,Pending:m,Submitted:g,Processing:c,Shipped:x,Delivered:g,Cancelled:u,Rejected:u})[t]||m,N=t=>({Draft:"bg-gray-100 text-gray-800 border-gray-300",Pending:"bg-yellow-100 text-yellow-800 border-yellow-300",Submitted:"bg-blue-100 text-blue-800 border-blue-300",Processing:"bg-purple-100 text-purple-800 border-purple-300",Shipped:"bg-indigo-100 text-indigo-800 border-indigo-300",Delivered:"bg-green-100 text-green-800 border-green-300",Cancelled:"bg-red-100 text-red-800 border-red-300",Rejected:"bg-red-100 text-red-800 border-red-300"})[t]||"bg-gray-100 text-gray-800 border-gray-300",f=t=>({Pending:"bg-yellow-100 text-yellow-800",Paid:"bg-green-100 text-green-800",Failed:"bg-red-100 text-red-800",Refunded:"bg-gray-100 text-gray-800"})[t]||"bg-gray-100 text-gray-800",y=j(s.status),r=s.items?.slice(0,3)||[],n=(s.items?.length||0)-r.length;return e.jsxs(v,{className:"hover:shadow-lg transition-all duration-300 border-l-4 border-l-primary/50",children:[e.jsx(S,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs(w,{className:"text-lg font-bold flex items-center gap-2",children:[e.jsx(c,{className:"h-5 w-5 text-primary"}),s.orderId||`Order #${s._id?.slice(-6)}`]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[e.jsxs(i,{className:o("gap-1 border",N(s.status)),children:[e.jsx(y,{className:"h-3 w-3"}),s.status]}),s.paymentStatus&&e.jsx(i,{className:o("gap-1",f(s.paymentStatus)),children:s.paymentStatus}),s.orderType&&e.jsx(i,{variant:"outline",className:"text-xs",children:s.orderType})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:["KES ",Number(s.total||0).toLocaleString("en-KE",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(s.date||s.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})}),e.jsxs(D,{className:"space-y-4",children:[s.customer&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:s.customer.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.customer.email})]}),s.customer.phone&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.customer.phone})]}),r.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase",children:"Order Items"}),e.jsxs("div",{className:"space-y-2",children:[r.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-gradient-to-r from-primary/5 to-transparent hover:from-primary/10 transition-colors",children:[e.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden bg-muted flex-shrink-0 border border-border",children:t.image?e.jsx("img",{src:t.image,alt:t.name||"Product",className:"w-full h-full object-cover",onError:d=>{d.target.onerror=null,d.target.src="https://via.placeholder.com/48?text=No+Image"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(c,{className:"h-6 w-6 text-muted-foreground/50"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:t.name||"Product"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Qty: ",t.quantity," Ã— KES ",Number(t.price||0).toLocaleString("en-KE",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"font-semibold text-sm",children:["KES ",(Number(t.price||0)*Number(t.quantity||1)).toLocaleString("en-KE",{minimumFractionDigits:2,maximumFractionDigits:2})]})})]},a)),n>0&&e.jsx("div",{className:"text-center py-2",children:e.jsxs(i,{variant:"secondary",className:"text-xs",children:["+",n," more ",n===1?"item":"items"]})})]})]}),s.deliveryInfo?.address&&e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-900",children:[e.jsxs("p",{className:"text-xs font-semibold text-blue-900 dark:text-blue-100 flex items-center gap-1 mb-1",children:[e.jsx(x,{className:"h-3 w-3"}),"Delivery Address"]}),e.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:[s.deliveryInfo.address,s.deliveryInfo.city&&`, ${s.deliveryInfo.city}`]})]}),e.jsxs("div",{className:"pt-3 border-t border-border space-y-1",children:[s.subtotal&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),e.jsxs("span",{children:["KES ",Number(s.subtotal).toLocaleString("en-KE",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.taxAmount>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Tax:"}),e.jsxs("span",{children:["KES ",Number(s.taxAmount).toLocaleString("en-KE",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.shippingCost>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Shipping:"}),e.jsxs("span",{children:["KES ",Number(s.shippingCost).toLocaleString("en-KE",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.discountAmount>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:"Discount:"}),e.jsxs("span",{children:["-KES ",Number(s.discountAmount).toLocaleString("en-KE",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(l,{variant:"outline",size:"sm",className:"flex-1 gap-2",onClick:()=>p?.(s),children:[e.jsx(C,{className:"h-4 w-4"}),"View Details"]}),e.jsxs(l,{variant:"default",size:"sm",className:"flex-1 gap-2",onClick:()=>h?.(s),children:[e.jsx(E,{className:"h-4 w-4"}),"Edit Order"]}),e.jsx(l,{variant:"destructive",size:"sm",className:"gap-2",onClick:()=>b?.(s),children:e.jsx(F,{className:"h-4 w-4"})})]})]})]})};export{M as default};
