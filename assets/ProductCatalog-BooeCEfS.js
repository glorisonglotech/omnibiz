import{j as e}from"./radix-vendor-B3KJ3-F4.js";import{r as c}from"./react-vendor-DyCm8Hca.js";import{C as P,a as M,b as A,c as B,d as E,I,D as g,e as N,B as f,f as v,g as k,h as m,i as a,T as O,j as V,k as y,l as n,m as H,n as l,o as j}from"./index-CrmIEb1e.js";import{P as R,S as U,F as C,E as $,a as K,b as q,T as z,c as _,d as G,C as J}from"./ui-vendor-7Lw9ZtLE.js";import"./socket-vendor-CA1CrNgP.js";import"./chart-vendor-DSBLL5zb.js";const te=({products:t=[],onEdit:w,onDelete:S,onView:b})=>{const[d,p]=c.useState(""),[o,T]=c.useState("all"),[r,x]=c.useState("all"),u=c.useMemo(()=>t.filter(s=>{const i=s.name?.toLowerCase().includes(d.toLowerCase())||s.sku?.toLowerCase().includes(d.toLowerCase()),D=o==="all"||s.category===o,F=r==="all"||r==="low"&&s.stockQuantity<=s.reorderLevel||r==="out"&&s.stockQuantity===0||r==="in"&&s.stockQuantity>s.reorderLevel;return i&&D&&F}),[t,d,o,r]),L=c.useMemo(()=>{const s=new Set(t.map(i=>i.category).filter(Boolean));return["all",...Array.from(s)]},[t]),h=c.useMemo(()=>({total:t.length,lowStock:t.filter(s=>s.stockQuantity<=s.reorderLevel&&s.stockQuantity>0).length,outOfStock:t.filter(s=>s.stockQuantity===0).length,totalValue:t.reduce((s,i)=>s+i.price*i.stockQuantity,0)}),[t]),Q=s=>s.stockQuantity===0?e.jsxs(j,{variant:"destructive",className:"gap-1",children:[e.jsx(_,{className:"h-3 w-3"}),"Out of Stock"]}):s.stockQuantity<=s.reorderLevel?e.jsxs(j,{variant:"secondary",className:"gap-1",children:[e.jsx(G,{className:"h-3 w-3"}),"Low Stock"]}):e.jsxs(j,{variant:"default",className:"gap-1",children:[e.jsx(J,{className:"h-3 w-3"}),"In Stock"]});return e.jsxs(P,{className:"border-primary/20",children:[e.jsx(M,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5 text-primary"}),"Product Catalog"]}),e.jsxs(B,{children:[u.length," of ",t.length," products"]})]}),e.jsxs("div",{className:"flex gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:h.total}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:h.lowStock}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Low Stock"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:h.outOfStock}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Out"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",h.totalValue.toFixed(0)]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Value"})]})]})]})}),e.jsxs(E,{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(I,{placeholder:"Search products by name or SKU...",value:d,onChange:s=>p(s.target.value),className:"pl-10"})]}),e.jsxs(g,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(f,{variant:"outline",className:"gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),"Category: ",o==="all"?"All":o]})}),e.jsxs(v,{children:[e.jsx(k,{children:"Filter by Category"}),e.jsx(m,{}),L.map(s=>e.jsx(a,{onClick:()=>T(s),children:s==="all"?"All Categories":s},s))]})]}),e.jsxs(g,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(f,{variant:"outline",className:"gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),"Stock: ",r==="all"?"All":r]})}),e.jsxs(v,{children:[e.jsx(k,{children:"Filter by Stock"}),e.jsx(m,{}),e.jsx(a,{onClick:()=>x("all"),children:"All Products"}),e.jsx(a,{onClick:()=>x("in"),children:"In Stock"}),e.jsx(a,{onClick:()=>x("low"),children:"Low Stock"}),e.jsx(a,{onClick:()=>x("out"),children:"Out of Stock"})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(O,{children:[e.jsx(V,{children:e.jsxs(y,{children:[e.jsx(n,{children:"Product"}),e.jsx(n,{children:"SKU"}),e.jsx(n,{children:"Category"}),e.jsx(n,{className:"text-right",children:"Price"}),e.jsx(n,{className:"text-right",children:"Stock"}),e.jsx(n,{children:"Status"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(H,{children:u.length===0?e.jsx(y,{children:e.jsx(l,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No products found. Try adjusting your filters."})}):u.map(s=>e.jsxs(y,{className:"hover:bg-accent/50 transition-colors",children:[e.jsx(l,{className:"font-medium",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:s.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s.supplierName})]})}),e.jsx(l,{className:"font-mono text-sm",children:s.sku}),e.jsx(l,{children:e.jsx(j,{variant:"outline",children:s.category})}),e.jsxs(l,{className:"text-right font-semibold",children:["$",s.price?.toFixed(2)]}),e.jsx(l,{className:"text-right",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:s.stockQuantity}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Reorder: ",s.reorderLevel]})]})}),e.jsx(l,{children:Q(s)}),e.jsx(l,{className:"text-right",children:e.jsxs(g,{children:[e.jsx(N,{asChild:!0,children:e.jsx(f,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx($,{className:"h-4 w-4"})})}),e.jsxs(v,{align:"end",children:[e.jsx(k,{children:"Actions"}),e.jsx(m,{}),e.jsxs(a,{onClick:()=>b?.(s),className:"gap-2",children:[e.jsx(K,{className:"h-4 w-4"}),"View Details"]}),e.jsxs(a,{onClick:()=>w?.(s),className:"gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),"Edit Product"]}),e.jsx(m,{}),e.jsxs(a,{onClick:()=>{confirm(`Delete ${s.name}?`)&&S?.(s)},className:"gap-2 text-destructive focus:text-destructive",children:[e.jsx(z,{className:"h-4 w-4"}),"Delete"]})]})]})})]},s._id||s.id))})]})})]})]})};export{te as default};
